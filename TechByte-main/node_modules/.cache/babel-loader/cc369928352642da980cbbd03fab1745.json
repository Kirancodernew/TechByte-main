{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\saiki\\\\Downloads\\\\TechByte-main\\\\TechByte-main\\\\src\\\\context.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// context  creation ✅\n// provider ✅\n// consumer lenghty remove useContext hook\n// useContext hook ✅\n\nimport React, { useContext, useReducer, useEffect } from \"react\";\nimport reducer from \"./reducer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet API = \"https://hn.algolia.com/api/v1/search?\";\nconst initialState = {\n  isLoading: true,\n  query: \"CSS\",\n  nbPages: 0,\n  page: 0,\n  hits: []\n};\nconst AppContext = /*#__PURE__*/React.createContext();\n\n// to create a provider fucntion\nconst AppProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  // const [state, setstate] = useState(initialState);\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const fecthApiData = async url => {\n    dispatch({\n      type: \"SET_LOADING\"\n    });\n    try {\n      const res = await fetch(url);\n      const data = await res.json();\n      console.log(data);\n      dispatch({\n        type: \"GET_STORIES\",\n        payload: {\n          hits: data.hits,\n          nbPages: data.nbPages\n        }\n      });\n      // isLoading = false;\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  // to remove the post\n  const removePost = post_ID => {\n    dispatch({\n      type: \"REMOVE_POST\",\n      payload: post_ID\n    });\n  };\n\n  // plz subscribe thapa technical youtube channel\n\n  // search\n  const searchPost = searchQuery => {\n    dispatch({\n      type: \"SEARCH_QUERY\",\n      payload: searchQuery\n    });\n  };\n\n  // pagination\n  const getNextPage = () => {\n    dispatch({\n      type: \"NEXT_PAGE\"\n    });\n  };\n  const getPrevPage = () => {\n    dispatch({\n      type: \"PREV_PAGE\"\n    });\n  };\n\n  // to call teh api func\n  useEffect(() => {\n    fecthApiData(`${API}query=${state.query}&page=${state.page}`);\n  }, [state.query, state.page]);\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      ...state,\n      removePost,\n      searchPost,\n      getNextPage,\n      getPrevPage\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n\n// custom hook chitsreate\n_s(AppProvider, \"bgCdjuTOmPdSBRwTap80EFd9Y3U=\");\n_c = AppProvider;\nconst useGlobalContext = () => {\n  _s2();\n  return useContext(AppContext);\n};\n_s2(useGlobalContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport { AppContext, AppProvider, useGlobalContext };\nvar _c;\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"names":["React","useContext","useReducer","useEffect","reducer","API","initialState","isLoading","query","nbPages","page","hits","AppContext","createContext","AppProvider","children","state","dispatch","fecthApiData","url","type","res","fetch","data","json","console","log","payload","error","removePost","post_ID","searchPost","searchQuery","getNextPage","getPrevPage","useGlobalContext"],"sources":["C:/Users/saiki/Downloads/TechByte-main/TechByte-main/src/context.js"],"sourcesContent":["// context  creation ✅\r\n// provider ✅\r\n// consumer lenghty remove useContext hook\r\n// useContext hook ✅\r\n\r\nimport React, { useContext, useReducer, useEffect } from \"react\";\r\nimport reducer from \"./reducer\";\r\n\r\nlet API = \"https://hn.algolia.com/api/v1/search?\";\r\n\r\nconst initialState = {\r\n  isLoading: true,\r\n  query: \"CSS\",\r\n  nbPages: 0,\r\n  page: 0,\r\n  hits: [],\r\n};\r\n\r\nconst AppContext = React.createContext();\r\n\r\n// to create a provider fucntion\r\nconst AppProvider = ({ children }) => {\r\n  // const [state, setstate] = useState(initialState);\r\n\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const fecthApiData = async (url) => {\r\n    dispatch({ type: \"SET_LOADING\" });\r\n\r\n    try {\r\n      const res = await fetch(url);\r\n      const data = await res.json();\r\n      console.log(data);\r\n      dispatch({\r\n        type: \"GET_STORIES\",\r\n        payload: {\r\n          hits: data.hits,\r\n          nbPages: data.nbPages,\r\n        },\r\n      });\r\n      // isLoading = false;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  // to remove the post\r\n  const removePost = (post_ID) => {\r\n    dispatch({ type: \"REMOVE_POST\", payload: post_ID });\r\n  };\r\n\r\n  // plz subscribe thapa technical youtube channel\r\n\r\n  // search\r\n  const searchPost = (searchQuery) => {\r\n    dispatch({\r\n      type: \"SEARCH_QUERY\",\r\n      payload: searchQuery,\r\n    });\r\n  };\r\n\r\n  // pagination\r\n  const getNextPage = () => {\r\n    dispatch({\r\n      type: \"NEXT_PAGE\",\r\n    });\r\n  };\r\n\r\n  const getPrevPage = () => {\r\n    dispatch({\r\n      type: \"PREV_PAGE\",\r\n    });\r\n  };\r\n\r\n  // to call teh api func\r\n  useEffect(() => {\r\n    fecthApiData(`${API}query=${state.query}&page=${state.page}`);\r\n  }, [state.query, state.page]);\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{ ...state, removePost, searchPost, getNextPage, getPrevPage }}>\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n};\r\n\r\n// custom hook chitsreate\r\nconst useGlobalContext = () => {\r\n  return useContext(AppContext);\r\n};\r\n\r\nexport { AppContext, AppProvider, useGlobalContext };"],"mappings":";;;AAAA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAChE,OAAOC,OAAO,MAAM,WAAW;AAAC;AAEhC,IAAIC,GAAG,GAAG,uCAAuC;AAEjD,MAAMC,YAAY,GAAG;EACnBC,SAAS,EAAE,IAAI;EACfC,KAAK,EAAE,KAAK;EACZC,OAAO,EAAE,CAAC;EACVC,IAAI,EAAE,CAAC;EACPC,IAAI,EAAE;AACR,CAAC;AAED,MAAMC,UAAU,gBAAGZ,KAAK,CAACa,aAAa,EAAE;;AAExC;AACA,MAAMC,WAAW,GAAG,QAAkB;EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC;EAC/B;;EAEA,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGf,UAAU,CAACE,OAAO,EAAEE,YAAY,CAAC;EAE3D,MAAMY,YAAY,GAAG,MAAOC,GAAG,IAAK;IAClCF,QAAQ,CAAC;MAAEG,IAAI,EAAE;IAAc,CAAC,CAAC;IAEjC,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACH,GAAG,CAAC;MAC5B,MAAMI,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAI,EAAE;MAC7BC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;MACjBN,QAAQ,CAAC;QACPG,IAAI,EAAE,aAAa;QACnBO,OAAO,EAAE;UACPhB,IAAI,EAAEY,IAAI,CAACZ,IAAI;UACfF,OAAO,EAAEc,IAAI,CAACd;QAChB;MACF,CAAC,CAAC;MACF;IACF,CAAC,CAAC,OAAOmB,KAAK,EAAE;MACdH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;IACpB;EACF,CAAC;;EAED;EACA,MAAMC,UAAU,GAAIC,OAAO,IAAK;IAC9Bb,QAAQ,CAAC;MAAEG,IAAI,EAAE,aAAa;MAAEO,OAAO,EAAEG;IAAQ,CAAC,CAAC;EACrD,CAAC;;EAED;;EAEA;EACA,MAAMC,UAAU,GAAIC,WAAW,IAAK;IAClCf,QAAQ,CAAC;MACPG,IAAI,EAAE,cAAc;MACpBO,OAAO,EAAEK;IACX,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAMC,WAAW,GAAG,MAAM;IACxBhB,QAAQ,CAAC;MACPG,IAAI,EAAE;IACR,CAAC,CAAC;EACJ,CAAC;EAED,MAAMc,WAAW,GAAG,MAAM;IACxBjB,QAAQ,CAAC;MACPG,IAAI,EAAE;IACR,CAAC,CAAC;EACJ,CAAC;;EAED;EACAjB,SAAS,CAAC,MAAM;IACde,YAAY,CAAE,GAAEb,GAAI,SAAQW,KAAK,CAACR,KAAM,SAAQQ,KAAK,CAACN,IAAK,EAAC,CAAC;EAC/D,CAAC,EAAE,CAACM,KAAK,CAACR,KAAK,EAAEQ,KAAK,CAACN,IAAI,CAAC,CAAC;EAE7B,oBACE,QAAC,UAAU,CAAC,QAAQ;IAClB,KAAK,EAAE;MAAE,GAAGM,KAAK;MAAEa,UAAU;MAAEE,UAAU;MAAEE,WAAW;MAAEC;IAAY,CAAE;IAAA,UACrEnB;EAAQ;IAAA;IAAA;IAAA;EAAA,QACW;AAE1B,CAAC;;AAED;AAAA,GAlEMD,WAAW;AAAA,KAAXA,WAAW;AAmEjB,MAAMqB,gBAAgB,GAAG,MAAM;EAAA;EAC7B,OAAOlC,UAAU,CAACW,UAAU,CAAC;AAC/B,CAAC;AAAC,IAFIuB,gBAAgB;AAItB,SAASvB,UAAU,EAAEE,WAAW,EAAEqB,gBAAgB;AAAG;AAAA"},"metadata":{},"sourceType":"module"}